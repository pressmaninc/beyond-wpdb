=== Byond Wpdb ===
Contributors: pressman
Tags: pressman、json、meta_query
Stable tag: 1.0
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Requires Wordpress: 5.4
Requires PHP: 7.0
Requires MySQL: 5.7
Requires MariaDB: 10.2
Tested up to: 5.4

This plugin converts the SQL generated by get_posts and Wp_Query.
It converts SQL to join with each original table with json columns to make it faster.

== Features ==
By storing all meta information in the json column of each original table, a large number of inner joins are prevented and the speed is improved.

If multiple meta information is registered to one post, a relationship of multiple records per post may occur, resulting in a large number of inner joins.
The relationship of one record per post is realized by storing all meta information for one post in the json column of each original table and the speed is improved.
It is achieved by converting SQL to join with each original table when searching with get_posts and Wp_Query.

■ conversion conditions
* meta_key is specified AND
* The meta_value is specified AND
* If meta_compare_key is specified, it may be "=" or "EXISTS"

■ Generated Tables
* postmeta_json
* usermeta_json
* commentmeta_json

■ Columns in each table
postmeta_json
* post_id(int)
* json(json)
usermeta_json
* post_id(int)
* json(json)
commentmeta_json
* post_id(int)
* json(json)

■ Example of storing json columns
{ "state": "Wisconsin", "city": "Winter" }

■ Results of Speed Measurement
ex ) Create 100 posts, Create 50 meta information for each post, and Combine them 9 times
* postmeta_json
Equal:0.04
IN:0.09
NOT IN:0.06
LIKE:0.03
NOT LIKE:0.03
BETWEEN:0.04
NOT BETWEEN:0.04

* postmeta
Equal:4.72
IN:4.79
NOT IN:4.74
LIKE:0.64
NOT LIKE:0.66
BETWEEN:0.63
NOT BETWEEN:0.63

== Install ==
1.Download the plugin
2.Upload the plugin to the plugin directory
3.Enable plugins from the admin page's Plugins

== Notes ==
Data is registered to each original table using the trigger function of MySQL and MariaDB.
The following permissions are required to activate Trigger.
* TRIGGER permission on the target table
* If a reference to a target table column is generated, the SELECT permission
* If an update to the target table column occurs, the UPDATE permission
* Any other privileges are usually required for the statement executed by that trigger.

== Change Log ==
= 1.0 =
